<div id="sidebar-results">

  <div class="descriptor" *ngIf="!hasSearched">
    <h5>Search for a book, author or location.</h5>
  </div>

  <div class="descriptor" *ngIf="hasSearched && !results.error">
    <h5 *ngIf="results.type === 'book' || results.type === 'author' || results.type === 'city'">
      Showing {{results.type}} matching <span>{{results.query}}</span>.
    </h5>
    <h5 *ngIf="results.type === 'getCitiesFromBook'">
      Showing locations mentioned in <span>{{results.bookTitle}}</span>.
    </h5>
    <h5 *ngIf="results.type === 'getBooksFromCity'">
      Showing books mentioning <span>{{results.cityName}}</span>.
    </h5>
  </div>

  <div class="descriptor error" *ngIf="hasSearched && results.error">
    <h5>No {{results.type}} found matching <span>{{results.query}}</span>.</h5>
  </div>

  <div class="results">

    <div *ngIf="results.type === 'book'">
      <div *ngFor="let b of results.data" class="search-result" (click)="getLocations(b)">
        <h5 class="title"><i class="fa fa-book"></i>{{b}}</h5>
      </div>
    </div>

    <div *ngIf="results.type === 'author'">
      <div *ngFor="let a of results.data" class="search-result">
        <h5 class="title"><i class="fa fa-user"></i>{{a}}</h5>
      </div>
    </div>

    <div *ngIf="results.type === 'city'">
      <div *ngFor="let l of results.data" class="search-result">
        <h5 class="title"><i class="fa fa-map-marker"></i>{{l}}</h5>
      </div>
    </div>

    <div *ngIf="results.type === 'getBooksFromCity'">
      <div *ngFor="let b of results.data" class="book">
        <h5 class="book-heading"><i class="fa fa-fw fa-book"></i>{{b.title}}</h5>

        <p class="book-authors">
          <span class="book-authors-label">Authors:</span>
          <span *ngFor="let a of b.authors; let i = index">
    <a href="#">{{a.name}}<span *ngIf="i < b.authors.length - 1">,</span></a>
    </span>
        </p>
        <small class="book-uid"><span>UID: </span>{{b.UID}}</small>
      </div>
    </div>

    <div *ngIf="results.type === 'getCitiesFromBook'">
      <div *ngFor="let l of results.data" class="location" (click)="getBooksFromCity(l.name)">
        <h5 class="location-heading"><i class="fa fa-fw fa-map-marker"></i>{{l.name}}</h5>
        <p class="coordinate">
          <span class="coordinate-label">Lat:</span>{{l.latitude}}
        </p>
        <p class="coordinate">
          <span class="coordinate-label">Lng:</span>{{l.longitude}}
        </p>
      </div>
    </div>


  </div>
</div>
